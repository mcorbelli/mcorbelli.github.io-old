<!DOCTYPE html>
<html>
    <head>
        <base href="$FLUTTER_BASE_HREF" />

        <meta charset="UTF-8" />
        <meta content="IE=Edge" http-equiv="X-UA-Compatible" />
        <meta name="description" content="Portfolio di Corbelli Mattia" />

        <meta name="apple-mobile-web-app-capable" content="yes" />
        <meta name="apple-mobile-web-app-status-bar-style" content="black" />
        <meta name="apple-mobile-web-app-title" content="portfolio_web" />
        <link rel="apple-touch-icon" href="icons/icon-192x192.png" />

        <meta name="theme-color" media="(prefers-color-scheme: light)" content="#FFFFFF">
        <meta name="theme-color" media="(prefers-color-scheme: dark)"  content="#000000">

        <link rel="icon" type="image/png" href="favicon.ico" />

        <title>Corbelli Mattia - Portfolio</title>
        <link rel="manifest" href="manifest.json" />

        <script>
            var serviceWorkerVersion = null;
        </script>

        <script src="flutter.js" defer></script>

        <!-- Include the external CSS file -->
        <link rel="stylesheet" href="styles.css">
    </head>
    <body onload="applyTheme()">
        <picture id="splash">
            <img class="center" aria-hidden="true" src="splash/img/light-1x.gif" alt="" />
        </picture>
        <script id="flutter-load-script">
            window.addEventListener("load", function (ev) {
                _flutter.loader.loadEntrypoint({
                    serviceWorker: {
                        serviceWorkerVersion: serviceWorkerVersion,
                    },
                    onEntrypointLoaded: function (engineInitializer) {
                        engineInitializer.initializeEngine().then(function (appRunner) {
                            appRunner.runApp();
                        });
                    },
                });
            });
        </script>
        <script id="splash-screen-script">
            window.addEventListener("load", function (ev) {
                var theme = localStorage.getItem('portfolio_theme');
                if (theme === 'dark') {
                    document.body.style.backgroundColor = '#18191A';
                    document.getElementById('splash').querySelector('img').src = 'splash/img/dark-1x.gif';
                } else if (theme === 'light') {
                    document.body.style.backgroundColor = '#F0F2F5';
                    document.getElementById('splash').querySelector('img').src = 'splash/img/light-1x.gif';
                }
            });
        </script>
    </body>
</html>
